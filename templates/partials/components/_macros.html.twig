{% macro attributes(attrs) %}
    {%- for name, value in attrs|default({}) -%}
        {%- if value is same as(false) or value is same as(null) -%}
            {# skip falsey attributes #}
        {%- elseif value is same as(true) -%}
            {{- (' ' ~ name)|raw -}}
        {%- else -%}
            {{- (' ' ~ name ~ '="' ~ value|e('html_attr') ~ '"')|raw -}}
        {%- endif -%}
    {%- endfor -%}
{% endmacro %}
